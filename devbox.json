{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.10.7/.schema/devbox.schema.json",
  "packages": {
    "which":          "latest",
    "rustup":         "latest",
    "libiconv":       "latest",
    "cargo-binstall": "latest",
    "dioxus-cli":     "latest"
  },
  "shell": {
    "init_hook": [
      "if [ ! -d $RUSTUP_HOME/toolchains/stable* ]; then rustup default stable; fi",
      "if [ ! -d $RUSTUP_HOME/toolchains/stable*/lib/rustlib/wasm32-unknown-unknown ]; then rustup target add wasm32-unknown-unknown; fi",
      "cargo binstall -y --root=.devbox wasm-bindgen-cli",
      "alias ls='ls --color'"
    ],
    "scripts": {
      "code": [
        "Code --user-data-dir .vscode ."
      ],
      "serve": [
	"dx serve --platform web --port 8080 --addr 0.0.0.0"
      ],
      "build": [
	"dx build --platform web"
      ]
    }
  },
  "env": {
    "LS_COLORS": "di=33",
    "PATH":      "$PATH:$PWD/.devbox/bin"
  }
}
